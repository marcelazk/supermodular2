<ion-header>
  <ion-navbar> <ion-title></ion-title> </ion-navbar>
</ion-header>
<ion-content padding id="pageLinhaSelec">
  <div padding-top class="header-linha-selec">
    <h4>{{ dsLinha }}</h4>
  </div>
  <div class="divisorButtons">
    <button
      ion-button
      outline
      icon-only
      round
      *ngIf="isFavorito"
      on-click="deleteFavorito()"
    >
      <ion-icon class="favButton" name="{{iconFav}}"></ion-icon>
    </button>
    <button
      ion-button
      outline
      icon-only
      round
      *ngIf="!isFavorito"
      on-click="postFavorito(cdLinha, dsLinha)"
    >
      <ion-icon class="noFavButton" name="{{iconFav}}"></ion-icon>
    </button>
    <!-- <button ion-button outline icon-only round on-click="goToMapa(linha, saida)">
      <ion-icon class="mapButton" name="map"></ion-icon>
    </button> -->
    <button ion-button outline icon-only round on-click="goToComentarios(linha)">
      <ion-icon class="comentButton" name="text"></ion-icon>
    </button>
  </div>

  <div class="divisorSup"></div>
  <ion-item class="selectors">
    <ion-label>Saída</ion-label>
    <ion-select [(ngModel)]="saida">
      <ion-option *ngFor="let sai of saidas" value="{{sai.ds_saida}}">{{
        sai.ds_saida
      }}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item class="selectors">
    <ion-label>Dia da semana</ion-label>
    <ion-select [(ngModel)]="diaSemana">
      <ion-option value="Dias Úteis">Dias úteis</ion-option>
      <ion-option value="Sábados">Sábados</ion-option>
      <ion-option value="Domingos e Feriados">Domingos e Feriados</ion-option>
    </ion-select>
  </ion-item>
  <div class="divisor">
    <button ion-button small float-right round [disabled]="!saida || !diaSemana" (click)="filtrarHorarios(saida, diaSemana)">Filtrar</button>
  </div>

  <div>
    <ion-list padding id="horarios-list">
      <button ion-button small *ngFor="let horario of horarios" on-click="goToMapa(linha, saida)">
        <p>{{ horario.ds_hora }}</p>
      </button>
    </ion-list>

    <p padding class="avisoHorarios" *ngIf="horarios.length == 0"> Não existem horários para este filtro! </p>
  </div>

</ion-content>
